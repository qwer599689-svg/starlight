---
import fs from "fs";
import path from "path";

const newsPath = path.resolve("src/data/news.json");
let news = [];

try {
  const data = fs.readFileSync(newsPath, "utf-8");
  news = JSON.parse(data);
} catch (err) {
  console.error("âš ï¸ ç„¡æ³•è®€å–æ–°èè³‡æ–™ï¼Œè«‹å…ˆåŸ·è¡Œ fetchNews.mjs");
}
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ğŸ¬ Entertainment News</title>
    <style>
      body {
        font-family: sans-serif;
        background: #fafafa;
        padding: 40px;
      }
      h1 {
        text-align: center;
        color: #333;
      }
      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 40px;
      }
      .card {
        background: #fff;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s;
      }
      .card:hover {
        transform: translateY(-4px);
      }
      .source {
        color: #999;
        font-size: 14px;
      }
      a {
        color: #1a73e8;
        text-decoration: none;
      }
    </style>
  </head>

  <body>
    <h1>ğŸ¬ æœ€æ–°å¨›æ¨‚æ–°è</h1>
    <div class="grid">
      {news.length > 0 ? (
        news.map((item) => (
          <div class="card">
            <h2>{item.title}</h2>
            <p>{item.description || "ï¼ˆæ²’æœ‰æ‘˜è¦ï¼‰"}</p >
            <p class="source">
              ä¾†æºï¼š{item.source} <br />
              ç™¼å¸ƒæ™‚é–“ï¼š{new Date(item.publishedAt).toLocaleString()}
            </p >
            é–±è®€å…¨æ–‡ â†’
          </div>
        ))
      ) : (
        <p>æš«æ™‚æ²’æœ‰æ–°èè³‡æ–™ï¼Œè«‹ç¢ºèª fetchNews.mjs æ˜¯å¦æœ‰æˆåŠŸåŸ·è¡Œã€‚</p >
      )}
    </div>
  </body>
</html>
